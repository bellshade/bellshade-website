<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bellshade</title>
  <link rel="stylesheet" href="src/css/style.css" />
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css" />
</head>

<body class="bg-gray-100">
  <!-- Wrapper -->
  <div class="container max-w-6xl mx-auto">
    <!-- Navbar -->
    <nav class="flex items-center bg-white p-3 flex-wrap lg:relative">
      <a href="#" class="p-2 mr-4 inline-flex items-center lg:absolute">
        <span class="text-xl text-black font-bold uppercase tracking-wide text-2xl">Bellshade</span>
      </a>
      <button
        class="text-white inline-flex p-2 text-gray-700 bg-gray-100 text-lg hover:bg-gray-900 rounded lg:hidden ml-auto mr-4 hover:text-white outline-none nav-toggler"
        data-target="#navigation">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-list"
          viewBox="0 0 16 16">
          <path fill-rule="evenodd"
            d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
        </svg>
      </button>

      <div class="hidden top-navbar w-full lg:inline-flex lg:flex-grow lg:w-full lg:justify-center" id="navigation">
        <div
          class="lg:inline-flex lg:flex-row lg:w-auto w-full lg:items-center items-start text-lg flex flex-col lg:h-auto">
          <a href="#homes"
            class="lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-gray-700 items-center justify-center hover:bg-gray-900 hover:text-white">
            <span>Home</span>
          </a>
          <a href="#about"
            class="lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-gray-700 items-center justify-center hover:bg-gray-900 hover:text-white">
            <span>About</span>
          </a>
          <a href="#"
            class="lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-gray-700 items-center justify-center hover:bg-gray-900 hover:text-white">
            <span>Projects</span>
          </a>
          <a href="#"
            class="lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-gray-700 items-center justify-center hover:bg-gray-900 hover:text-white">
            <span>Our Team</span>
          </a>
          <a href="#"
            class="lg:inline-flex lg:w-auto w-full px-3 py-2 rounded text-gray-700 items-center justify-center hover:bg-gray-900 hover:text-white">
            <span>Contact</span>
          </a>
        </div>
      </div>
      <button
        class="text-white items-center inline-flex px-4 py-1 bg-blue-600 text-lg hover:bg-gray-900 rounded lg:right-8 hover:text-white outline-none lg:absolute">Github</button>
    </nav>

    <!-- Landing -->
    <main id="homes" class="h-full lg:flex lg:flex-col lg:justify-center">
      <svg aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden" version="1.1"
        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <defs>
          <symbol id="icon-cross" viewBox="0 0 32 32">
            <title>close</title>
            <path
              d="M31.7 25.7L22 16l9.7-9.7a1 1 0 0 0 0-1.4L27.1.3a1 1 0 0 0-1.4 0L16 10 6.3.3a1 1 0 0 0-1.4 0L.3 4.9a1 1 0 0 0 0 1.4L10 16 .3 25.7a1 1 0 0 0 0 1.4l4.6 4.6a1 1 0 0 0 1.4 0L16 22l9.7 9.7a1 1 0 0 0 1.4 0l4.6-4.6a1 1 0 0 0 0-1.4z" />
          </symbol>
        </defs>
      </svg>

      <!-- Carousel -->
      <div class="page" data-modal-state="closed">
        <div class="container-page flex flex-col">
          <div class="flex items-center justify-center pt-12 lg:pt-16 pb-5 title">
            <h1 class="font-extrabold">
              Learn with Our <br />
              Community
            </h1>
          </div>
          <div class="card-slider">
            <div class="card-wrapper">
              <article class="card">
                <picture class="card__background">
                  <img src="https://source.unsplash.com/random" />
                </picture>
                <div class="card__category">Bellshade</div>
                <h3 class="card__title">Learn Programming</h3>
                <div class="card__duration">Lets Go!</div>
              </article>
            </div>
            <div class="card-wrapper">
              <article class="card">
                <picture class="card__background">
                  <img src="https://source.unsplash.com/random" />
                </picture>
                <div class="card__category">Bellshade</div>
                <h3 class="card__title">Learn Programming</h3>
                <div class="card__duration">Lets Go!</div>
              </article>
            </div>
            <div class="card-wrapper">
              <article class="card">
                <picture class="card__background">
                  <img src="https://source.unsplash.com/random" />
                </picture>
                <div class="card__category">Bellshade</div>
                <h3 class="card__title">Learn Programming</h3>
                <div class="card__duration">Lets Go!</div>
              </article>
            </div>
            <div class="card-wrapper">
              <article class="card">
                <picture class="card__background">
                  <img src="https://source.unsplash.com/random" />
                </picture>
                <div class="card__category">Bellshade</div>
                <h3 class="card__title">Learn Programming</h3>
                <div class="card__duration">Lets Go!</div>
              </article>
            </div>
            <div class="card-wrapper">
              <article class="card">
                <picture class="card__background">
                  <img src="https://source.unsplash.com/random" />
                </picture>
                <div class="card__category">Bellshade</div>
                <h3 class="card__title">Learn Programming</h3>
                <div class="card__duration">Lets Go!</div>
              </article>
            </div>
          </div>
        </div>
        <div class="overlay"></div>
        <div class="modal-wrapper">
          <div class="modal">
            <button class="modal__close-button" type="button">
              <svg class="icon icon-cross">
                <use xlink:href="#icon-cross"></use>
              </svg>
            </button>
            <div class="modal__scroll-area">
              <header class="modal__header">
                <div class="card__background">
                  <img src="https://source.unsplash.com/random" />
                </div>
                <div class="card__category">Bellshade</div>
                <h1 class="card__title">Learn Programming</h1>
                <div class="card__duration">Lets Go!</div>
              </header>
              <main class="modal__content">
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus quo sint debitis? Dolorem est at
                  voluptatum obcaecati tempore eaque perferendis. Totam at consectetur commodi porro atque eligendi
                  rerum vero nam?</p>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus quo sint debitis? Dolorem est at
                  voluptatum obcaecati tempore eaque perferendis. Totam at consectetur commodi porro atque eligendi
                  rerum vero nam?</p>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus quo sint debitis? Dolorem est at
                  voluptatum obcaecati tempore eaque perferendis. Totam at consectetur commodi porro atque eligendi
                  rerum vero nam?</p>
              </main>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- About -->
    <main id="about" class="px-4">
      <div class="bg-blue-600 w-full rounded-2xl lg:grid lg:grid-cols-2 p-5">
        <div class="flex items-center justify-center flex-col mb-4 lg:mb-0">
          <h1 class="text-5xl font-extrabold text-white tracking-wide">
            Get to <br />
            Know Us
          </h1>
          <div class="w-36 h-3.5 bg-white mt-6 rounded-xl -ml-12"></div>
        </div>
        <div class="flex items-center">
          <p class="text-base text-white tracking-wider">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perferendis accusantium aliquid corporis rem, iure
            itaque accusamus non assumenda incidunt eos corrupti, natus doloribus reiciendis laborum vero excepturi
            fugit, possimus
            repudiandae. Officiis vero placeat optio atque cupiditate voluptatum ipsum! Reprehenderit culpa mollitia
            assumenda aut impedit possimus minus praesentium tenetur ullam quibusdam.
          </p>
        </div>
      </div>
    </main>

    <!-- Team -->
    <main id="team" class="mt-24 block">
      <div class="h-full text-center">
        <div class="w-full mb-4">
          <h1 class="text-5xl font-extrabold top-0">Meet Our Team</h1>
        </div>
        <div id="members" class="flex justify-center flex-wrap"></div>
      </div>
    </main>

    <footer>
      <h1>Bellshade</h1>
      <p>&copy; 2021 Bellshade. All rights reserved</p>
    </footer>
  </div>

  <!-- JScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"
    integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/web-animations/2.3.1/web-animations.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scrollbar/8.3.1/smooth-scrollbar.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"></script>

  <script>
    $(document).ready(function () {
      $('.nav-toggler').each(function (_, navToggler) {
        var target = $(navToggler).data('target')
        $(navToggler).on('click', function () {
          $(target).animate({
            height: 'toggle',
          })
        })
      })
    })

    jQuery('.card-slider').slick({
      slidesToShow: 3,
      autoplay: true,
      slidesToScroll: 1,
      dots: false,
      responsive: [{
          breakpoint: 768,
          settings: {
            slidesToShow: 2,
          },
        },
        {
          breakpoint: 600,
          settings: {
            slidesToShow: 1,
          },
        },
      ],
    })

    let cards = document.querySelectorAll('.card')
    let card
    let modal = document.querySelector('.modal')
    let closeButton = document.querySelector('.modal__close-button')
    let page = document.querySelector('.page')
    const cardBorderRadius = 20
    const openingDuration = 600 //ms
    const closingDuration = 600 //ms
    const timingFunction = 'cubic-bezier(.76,.01,.65,1.38)'

    var Scrollbar = window.Scrollbar
    Scrollbar.init(document.querySelector('.modal__scroll-area'))

    function flipAnimation(first, last, options) {
      let firstRect = first.getBoundingClientRect()
      let lastRect = last.getBoundingClientRect()

      let deltas = {
        top: firstRect.top - lastRect.top,
        left: firstRect.left - lastRect.left,
        width: firstRect.width / lastRect.width,
        height: firstRect.height / lastRect.height,
      }

      return last.animate(
        [{
            transformOrigin: 'top left',
            borderRadius: `
            ${cardBorderRadius / deltas.width}px / ${cardBorderRadius / deltas.height}px`,
            transform: `
                translate(${deltas.left}px, ${deltas.top}px) 
                scale(${deltas.width}, ${deltas.height})`,
          },
          {
            transformOrigin: 'top left',
            transform: 'none',
            borderRadius: `${cardBorderRadius}px`,
          },
        ],
        options
      )
    }

    cards.forEach((item) => {
      item.addEventListener('click', (e) => {
        jQuery('.card-slider').slick('slickPause')
        card = e.currentTarget
        page.dataset.modalState = 'opening'
        card.classList.add('card--opened')
        card.style.opacity = 0
        document.querySelector('body').classList.add('no-scroll')

        let animation = flipAnimation(card, modal, {
          duration: openingDuration,
          easing: timingFunction,
          fill: 'both',
        })

        animation.onfinish = () => {
          page.dataset.modalState = 'open'
          animation.cancel()
        }
      })
    })

    closeButton.addEventListener('click', (e) => {
      page.dataset.modalState = 'closing'
      document.querySelector('body').classList.remove('no-scroll')

      let animation = flipAnimation(card, modal, {
        duration: closingDuration,
        easing: timingFunction,
        direction: 'reverse',
        fill: 'both',
      })

      animation.onfinish = () => {
        page.dataset.modalState = 'closed'
        card.style.opacity = 1
        card.classList.remove('card--opened')
        jQuery('.card-slider').slick('slickPlay')
        animation.cancel()
      }
    })

    getContents('https://api.github.com/orgs/bellshade/members').then((members) => {
      const membersContainer = document.querySelector('#team #members')
      console.log(members)

      members.forEach((member) => {
        membersContainer.innerHTML += `
              <div class="team-card m-5">
                <div class="team-img-container">
                  <div class="team-img">
                    <img src="${member.avatar_url}" alt="${member.login}" />
                  </div>
                  <a href="${member.html_url}" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
                      <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                    </svg>
                  </a>
                </div>
                <div class="team-body">
                  <h2 class="team-name">${member.login}</h2>
                </div>
              </div>
            `
      })
    })

    async function getContents(url) {
      const res = await fetch(url).then((res) => res.json())
      return await res
    }
  </script>
</body>

</html>